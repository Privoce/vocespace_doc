# å¸®åŠ©

## æŸ¥çœ‹è‡ªå·±çš„linuxæ¶æ„

VoceSpaceå«æœ‰ä¸¤ç§é•œåƒ:
- amd: `privoce/vocespace:latest`
- arm: `privoce/vocespace:latest_arm`

æ‰€ä»¥æ‚¨éœ€è¦çŸ¥é“è‡ªå·±å½“å‰çš„æœåŠ¡å™¨æ¶æ„è¿›è¡Œé€‰æ‹©

### 1. ä½¿ç”¨ `uname` å‘½ä»¤

`uname` å‘½ä»¤å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿçš„å†…æ ¸ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¡¬ä»¶æ¶æ„ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
uname -m
```

- å¦‚æœè¾“å‡ºä¸º `x86_64`ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº AMD64 æˆ– Intel64 æ¶æ„ï¼ˆé€šå¸¸ç§°ä¸º x86_64ï¼‰ã€‚
- å¦‚æœè¾“å‡ºä¸º `aarch64` æˆ– `arm64`ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº ARM64 æ¶æ„ã€‚
- å¦‚æœè¾“å‡ºä¸º `armv7l` æˆ–ç±»ä¼¼å†…å®¹ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº ARMv7 æ¶æ„ã€‚

### 2. ä½¿ç”¨ `arch` å‘½ä»¤
`arch` å‘½ä»¤ä¹Ÿå¯ä»¥æ˜¾ç¤ºç³»ç»Ÿçš„æ¶æ„ç±»å‹ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
```bash
arch
```

- å¦‚æœè¾“å‡ºä¸º `x86_64`ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº AMD64 æˆ– Intel64 æ¶æ„ã€‚
- å¦‚æœè¾“å‡ºä¸º `aarch64` æˆ– `arm64`ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº ARM64 æ¶æ„ã€‚
- å¦‚æœè¾“å‡ºä¸º `armv7l` æˆ–ç±»ä¼¼å†…å®¹ï¼Œåˆ™è¡¨ç¤ºç³»ç»Ÿæ˜¯åŸºäº ARMv7 æ¶æ„ã€‚



## Docker ç½‘ç»œè¿æ¥è¶…æ—¶

### ğŸ‘ é€‰æ‹©ä½¿ç”¨ä¸­å›½å›½å†…é•œåƒ

#### AMD64

```bash
docker pull crpi-0u8xaje6k9g42uky.cn-hangzhou.personal.cr.aliyuncs.com/vocespace/vocespace:latest
```

#### ARM64

```bash
docker pull crpi-0u8xaje6k9g42uky.cn-hangzhou.personal.cr.aliyuncs.com/vocespace/vocespace:latest_arm
```

### é…ç½®Docker

å›½å†…ç”¨æˆ·å¯èƒ½ä¼šé‡åˆ°Docker Hubè®¿é—®è¿æ¥è¶…æ—¶çš„é—®é¢˜ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹å†…å®¹è¿›è¡Œé…ç½®ã€‚

#### åˆ›å»ºdaemon.json

```bash
sudo mkdir -p /etc/docker
sudo touch /etc/docker/daemon.json
```

#### æ·»åŠ ä»“åº“é•œåƒ

- è…¾è®¯: `https://mirror.ccs.tencentyun.com`
- ç§‘å¤§: `https://docker.mirrors.ustc.edu.cn`
- é˜¿é‡Œ: è§ æ§åˆ¶å° -> æœç´¢ -> é•œåƒå®¹å™¨æœåŠ¡ACR -> é•œåƒå·¥å…· -> é•œåƒåŠ é€Ÿ

```bash
sudo tee /etc/docker/daemon.json <<-'EOF'
{
  "registry-mirrors": ["https://mirror.ccs.tencentyun.com", "https://docker.mirrors.ustc.edu.cn"]
}
EOF
```

#### é‡å¯docker

```bash
sudo systemctl daemon-reload
sudo systemctl restart docker
```

### æ›´æ¢æœåŠ¡å™¨

åœ¨ä¸­å›½å›½å†…ï¼Œå³ä½¿æœåŠ¡å™¨æ‹¥æœ‰å…¬ç½‘ IPï¼Œä¹Ÿå¯èƒ½æ— æ³•æµç•…è®¿é—® Docker Hubã€GitHub ç­‰å¤–ç½‘æœåŠ¡ã€‚è¿™ä¸»è¦æ˜¯ç”±äºç½‘ç»œç¯å¢ƒçš„å¤æ‚æ€§ä»¥åŠç›¸å…³æ”¿ç­–çš„é™åˆ¶ã€‚ä»¥ä¸‹æ˜¯å¯èƒ½çš„åŸå› åŠè§£å†³æ–¹æ³•ï¼š
å¸¸è§åŸå› 

- DNS è§£æé—®é¢˜ï¼šé»˜è®¤çš„ DNS æœåŠ¡å™¨å¯èƒ½æ— æ³•æ­£ç¡®è§£æ Docker Hub æˆ– GitHub çš„åŸŸå
- ç½‘ç»œé™åˆ¶ï¼šæŸäº›ç½‘ç»œç¯å¢ƒï¼ˆå¦‚è¿è¥å•†ç½‘ç»œã€ä¼ä¸šå†…ç½‘ï¼‰å¯èƒ½ä¼šé™åˆ¶æˆ–å±è”½å¯¹ç‰¹å®šå¤–ç½‘æœåŠ¡çš„è®¿é—®
- é˜²ç«å¢™æˆ–å®‰å…¨ç­–ç•¥ï¼šæœåŠ¡å™¨çš„é˜²ç«å¢™æˆ–å®‰å…¨ç»„è§„åˆ™å¯èƒ½é˜»æ­¢äº†å¯¹ç‰¹å®šæœåŠ¡çš„è®¿é—®
- GFW å½±å“ï¼šåœ¨å›½å†…ï¼Œéƒ¨åˆ†å¤–ç½‘æœåŠ¡å¯èƒ½å—åˆ° GFW çš„é™åˆ¶

> [!TIP]
>
> å› æ­¤æˆ‘ä»¬æ¨èæ‚¨è´­ä¹°åœ°åŒº:
> 1. ä¸­å›½é¦™æ¸¯
> 2. æ—¥æœ¬
> 3. éŸ©å›½
> 4. æ–°åŠ å¡
> 5. æ¬§ç¾å›½å®¶

## Docker å¸¸ç”¨æŒ‡ä»¤

### æŸ¥çœ‹é•œåƒ

```bash
docker image ls
# æˆ–ä½¿ç”¨
docker images
```

### æŸ¥çœ‹æ‰€æœ‰å®¹å™¨

```bash
docker ps -a
```

### æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨

```bash
docker ps
```

### å…³é—­å®¹å™¨ 

```bash
docker stop container_name_or_id
```

### æ€æ­»å®¹å™¨ (å¼ºåˆ¶å…³é—­)

```bash
docker kill container_name_or_id
```

### åˆ é™¤å®¹å™¨

```bash
docker rm container_name_or_id

# åˆ é™¤å·²ç»åœæ­¢çš„å®¹å™¨
docker container prune
# åˆ é™¤æ‰€æœ‰ï¼ŒåŒ…æ‹¬æ­£åœ¨è¿è¡Œçš„
docker rm -f $(docker ps -aq)
```

### åˆ é™¤é•œåƒ

```bash
docker rmi image_name_or_id

# åˆ é™¤æ‰€æœ‰
docker rmi -f $(docker images -q)
```